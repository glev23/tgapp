# PLAN3 — доработка мини‑приложения (мобильная версия в приоритете)

Документ — план работ без кода. Сохраняем визуальный стиль и «атмосферу» текущего дизайна: тёмная дорогая тема, стеклянные слои, мягкие неоновые акценты, спокойные градиенты, микровзаимодействия. Всё решение ориентировано на мобильный экран внутри Telegram WebView. Цвета и эффекты — максимально близко к текущей теме.

Мобильная ориентация (360–430px)

## 1) Цели релиза
- Обновить вкладку «Рестораны»: показывать только актуальный список из `database/restaurants/*`, карточки с фото вместо градиентного прямоугольника, детальная страница ресторана, форма бронирования стола.
- Починить отображение «Меню» из `menu_two.txt` (включая «Завтрак а‑ля карт»), добавить корзину, страницу заказа, фильтры.
- Реализовать клики по быстрым действиям на главной: переходы на нужные разделы («Рестораны», «Номера», «Услуги», «Fitness & SPA»).
- Добавить страницу «Номера» (данные/фото из `database/nomera/*`), выровнять сетку и соотношения сторон для аккуратного вида.
- Перестроить раздел «Услуги» и «Fitness & SPA» (данные из `database/spa&welness/*`), убрать дублирование, сделать детальные страницы с фото.
- Сделать интерфейс более кликабельным и «производственным»: состояния загрузки, ошибки, кликабельные области, хаптика (где возможно), тосты, плавные переходы.

## 2) Источники данных
- Рестораны: `database/restaurants/*/description.txt` (+ `images/` при наличии). Если фото нет — использовать заглушки.
- Меню: `menu_two.txt` (весь контент, включая «Завтрак а‑ля карт»). Категории — из заголовков файла; длинные заголовки — адаптировать для мобильного.
- Номера: `database/nomera/*/description.txt` (+ фото из подпапок, если есть; иначе — заглушки). Площади/кровати — из `info.txt`.
- SPA & Wellness: `database/spa&welness/*/description.txt` (+ фото при наличии; иначе — заглушки). Формат описаний унифицирован.

## 3) Вкладка «Рестораны»
- Список: заменить текущие данные на динамический список из `database/restaurants` (удалить прежние «демо»).
- Карточка:
  - Обложка: фото ресторана (если есть) вместо градиентного блока (сохранить стеклянную подпись/оверлей).
  - Текст: название, кухня, средний чек, часы (из `description.txt`).
  - Тап‑зона: вся карточка кликабельна.
- Детальная страница ресторана:
  - Большое фото (герой) + стеклянный блок с названием/кухней/чеками/часами.
  - Описание, «Рекомендуем», «Особенности», «Расположение» (если присутствуют в описании).
  - Кнопка «Забронировать стол» (фиксированная снизу, стеклянная).
- Форма бронирования столика (минимальный набор полей):
  - Ресторан (pre‑filled), Дата, Время, Количество гостей, Имя, Телефон/Telegram username, Предпочтения по столу (зал/окно/терраса — если применимо), Пожелания/Комментарии, Особый повод (день рождения/годовщина), Согласие на обработку.
  - Валидация (минимальная), отправка (пока без интеграции — сохранить как черновик/заглушка API), подтверждение/тост.
- Категории: убрать категоризацию, оставить один фильтр «Все» (по требованию).

## 4) Вкладка «Меню»
- Парсинг/отображение: корректно покрыть все секции из `menu_two.txt`, включая «Завтрак а‑ля карт» (сейчас не отображается — исправить заголовок/парсинг).
- Категории/навигация:
  - Горизонтальный скролл «чипов», однострочный режим с авто‑скроллом; длинные названия — усечение/меньший размер, перенос в 2 строки допустим только при расширенном режиме.
  - Состояние активной категории — контрастнее, но в рамках текущей темы.
- Карточка блюда: название, краткое описание/состав, цена; компактная карточка, опционально модал по клику для состава/калорийности.
- Добавление в корзину:
  - При первом добавлении — показать плавающую иконку корзины (правый нижний угол) с бейджем количества.
  - Тап по иконке корзины — открыть страницу заказа.
- Страница заказа (корзина):
  - Список позиций (название, цена, кол‑во ±, удаление), промежуточный итог.
  - Поля: Имя, Контакт (телефон/username), Комментарий к заказу, Время подачи (ASAP/выбор времени). Опционально: Номер комнаты (если это рум‑сервис), тип получения (зал/номер/самовывоз — если применимо).
  - Кнопка «Оформить заказ» — подтверждение/тост (интеграция с бэком позже).
- Фильтр на вкладке «Меню»: кнопка «Фильтр» (иконка + текст) — модальное окно с чекбоксами (вегетарианское, без лактозы, без глютена, острое, халяль) — применить к текущему списку.

## 5) Главная — быстрые действия
- Рестораны: переход на вкладку «Рестораны».
- Номера: переход на новую страницу «Номера» (см. раздел 6).
- Fitness & SPA: переход на новую страницу каталога услуг (см. раздел 7).
- Прочие быстрые действия — подключить согласно текущему набору (контакты, concierge и т. п., если уже есть кнопки).

## 6) Страница «Номера» (Rooms)
- Источник: `database/nomera/*/description.txt` (+ фото из подпапок или заглушки).
- Список: плитка карточек с выровленным соотношением сторон (напр., 4:3/16:9) и авто‑кропом без «скачков». Заголовок, площадь, тип кровати, размещение.
- Фильтры (простые): по типу кровати (King/Twin), по площади (сегменты), по виду (если есть метка), по вместимости.
- Детальная страница номера: большое фото, блок основных характеристик (площадь, кровати, вид, размещение), описание, удобства; кнопка «Запросить бронирование номера» (заглушка).

## 7) Услуги и Fitness & SPA
- Разделение:
  - «Fitness & SPA»: каталог из `database/spa&welness/*` (единообразные `description.txt` уже готовы). 
  - «Услуги отеля»: другие сервисы (если есть текущие) — на отдельной странице, без дубляжа с SPA.
- Карточки: фото + стеклянная подпись (название), краткое описание; кликабельны.
- Детальная страница услуги: большое фото, структурированный текст (Длительность / О чём / Кому подходит / Противопоказания / Рекомендации), кнопка «Запросить услугу» (заглушка формы).

## 8) UX/Дизайн и кликабельность
- Сохранить текущую палитру и стиль (тёмная тема, стекло, мягкий неон). Обложки — фото, поверх — стеклянные подписи.
- Микровзаимодействия: плавные нажатия, лёгкие тени/подсветки, 60 fps.
- Штатные состояния: загрузка (скелетоны), пустые списки, ошибки (тосты/стеклянные алерты), ретраи.
- Навигация: корректная интеграция Telegram Back/Main Button.
- Адаптация под маленькие экраны: авто‑скролл, укороченные подписи, усечение/перенос заголовков, фиксированные интерактивные элементы (корзина, CTA).

## 9) Технические заметки (без реализации кода)
- Данные: считывание из локальных `database/*`; при отсутствии фото — единая заглушка (WebP, оптимизировано).
- Форматы: для карточек — единое соотношение сторон, object‑fit: cover (в терминах дизайна/стилей; реализация — далее).
- Перфоманс: ленивые изображения, мемоизация списков, без тяжёлых глобальных блюров.
- Доступность: контраст текста поверх фото, размеры тач‑таргетов ≥ 44px, фокус‑стейты.

## 10) Этапы работ
- Этап 1 — Подготовка данных (0.5–1 дн.):
  - Проверить структуры `database/restaurants`, `database/nomera`, `database/spa&welness`.
  - Убедиться в наличии/именовании фото; где нет — проставить заглушки.
- Этап 2 — Рестораны (1–2 дн.):
  - Список из `database/restaurants/*`.
  - Карточки с фото; удалить старые категории и оставить «Все».
  - Детальная страница + форма бронирования (без бэкенда).
- Этап 3 — Меню (1.5–2.5 дн.):
  - Починить парсинг «Завтрак а‑ля карт» и длинных заголовков.
  - Категории‑чипы с прокруткой, адаптивный шрифт.
  - Корзина (плавающая иконка, страница заказа), фильтры.
- Этап 4 — Главная и быстрые действия (0.5 дн.):
  - Подключить переходы к вкладкам/страницам.
- Этап 5 — Номера (1–1.5 дн.):
  - Список карточек (фото, грид), детальная страница.
- Этап 6 — Fitness & SPA и Услуги (1–1.5 дн.):
  - Каталог, детальные страницы, разграничение разделов.
- Этап 7 — Полировка/UX (0.5–1 дн.):
  - Скелетоны, ошибки, тосты, хаптика (где доступна), анимации.
- Этап 8 — Тесты и QA (0.5–1 дн.):
  - Проверка в Telegram WebView (iOS/Android), малые экраны, тёмная/светлая темы Телеграма.

## 11) Критерии приёмки
- Рестораны: на вкладке отображаются только объекты из `database/restaurants`; карточки с фото; при тапе открывается детальная страница с описанием и кнопкой «Забронировать»; форма с типовыми полями.
- Меню: все секции `menu_two.txt` отображаются (включая «Завтрак а‑ля карт»); длинные категории не «налезают»; есть фильтр; товары добавляются в корзину; корзина доступна, редактируема, оформляется заказ (с подтверждением).
- Главная: быстрые кнопки ведут в нужные разделы.
- Номера: список с аккуратными превью одинакового соотношения сторон; детальные страницы с характеристиками.
- Fitness & SPA и Услуги: без дублей, у каждой услуги — детальная страница с фото и структурированным описанием.
- Визуальный стиль сохранён (цвета, стекло, неоновые акценты), быстрое и плавное взаимодействие на мобильных.

## 12) Риски и допущения
- Фото могут отсутствовать — допускается заглушка до загрузки реальных материалов.
- Без интеграции с сервером: формы «Бронирование» и «Оформление заказа» — в режиме демонстрации (валидация + подтверждение), последующая интеграция — отдельной задачей.
- Парсинг `menu_two.txt` может потребовать уточнения формата заголовков/подсекций (внутренние маркеры).

— Конец документа — 